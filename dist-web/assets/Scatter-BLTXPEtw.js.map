{"version":3,"file":"Scatter-BLTXPEtw.js","sources":["../../src/pipeline/vizSeed/channelMapping/TwoMeasureMapping.ts","../../src/pipeline/vizSeed/vizSeedPipelines/Scatter.ts"],"sourcesContent":["/**\n * åŒæŒ‡æ ‡æ˜ å°„ç­–ç•¥\n * åŠŸèƒ½ï¼šxé€šé“ä½¿ç”¨ç¬¬ä¸€ä¸ªæŒ‡æ ‡ï¼Œyé€šé“ä½¿ç”¨ç¬¬äºŒä¸ªæŒ‡æ ‡ï¼Œcoloré€šé“ä½¿ç”¨ç¬¬ä¸€ä¸ªç»´åº¦\n * é€‚ç”¨äºŽï¼šæ•£ç‚¹å›¾ç­‰éœ€è¦æ¯”è¾ƒä¸¤ä¸ªæŒ‡æ ‡å…³ç³»çš„å›¾è¡¨\n */\n\nimport { ChannelMapping } from '../../../types/charts';\nimport { FieldSelection, PipelineStep } from '../../PipelineCore';\n\n/**\n * åŒæŒ‡æ ‡æ˜ å°„å‡½æ•°\n */\nconst mapTwoMeasuresChannels = (fieldSelection: FieldSelection): ChannelMapping => {\n  const { dimensions, measures } = fieldSelection;\n  \n  return {\n    x: measures[0],       // Xè½´ä½¿ç”¨ç¬¬ä¸€ä¸ªæŒ‡æ ‡\n    y: measures[1],       // Yè½´ä½¿ç”¨ç¬¬äºŒä¸ªæŒ‡æ ‡\n    color: dimensions[0]  // é¢œè‰²ä½¿ç”¨ç¬¬ä¸€ä¸ªç»´åº¦\n  };\n};\n\n/**\n * åŒæŒ‡æ ‡é€šé“æ˜ å°„Pipelineæ­¥éª¤\n */\nexport const mapTwoMeasures: PipelineStep = (vizSeed: any, context: any) => {\n  const { fieldSelection } = context;\n  \n  if (!fieldSelection || (fieldSelection.dimensions.length === 0 && fieldSelection.measures.length === 0)) {\n    return vizSeed;\n  }\n\n  console.log(`ðŸŽ¨ åŒæŒ‡æ ‡è‡ªåŠ¨é€šé“æ˜ å°„ï¼Œå­—æ®µé€‰æ‹©:`, fieldSelection);\n  \n  // ä½¿ç”¨åŒæŒ‡æ ‡æ˜ å°„ç­–ç•¥\n  const autoMapping = mapTwoMeasuresChannels(fieldSelection);\n  \n  // è¿‡æ»¤æŽ‰undefinedçš„å€¼\n  const filteredMapping: any = {};\n  Object.entries(autoMapping).forEach(([key, value]) => {\n    if (value !== undefined && value !== null) {\n      (filteredMapping as any)[key] = value;\n    }\n  });\n  \n  console.log(`ðŸ”— åŒæŒ‡æ ‡é€šé“æ˜ å°„ç»“æžœ:`, filteredMapping);\n  \n  // æ›´æ–°contextå’ŒvizSeed\n  const updatedEncodes = [filteredMapping];\n  context.encodes = updatedEncodes;\n  \n  return {\n    ...vizSeed,\n    encodes: updatedEncodes\n  };\n};","/**\n * SCATTERå›¾è¡¨VizSeed Pipeline\n */\n\nimport { pipeline, PipelineStep } from '../../PipelineCore';\nimport { chartAdapterStep } from '../ChartAdapterModule';\nimport { vizSeedInitStep } from '../VizSeedInitModule';\nimport { dataReshapeStep } from '../DataReshapeModule';\nimport { vizSeedCleanupStep } from '../VizSeedCleanupModule';\nimport { mapTwoMeasures } from '../channelMapping/TwoMeasureMapping';\n\n// åˆ›å»ºSCATTERå›¾è¡¨VizSeed Pipeline\nexport const createScatterVizSeedPipeline = () => {\n  const buildScatterVizSeedSteps: PipelineStep[] = [\n    vizSeedInitStep,\n    chartAdapterStep,\n    dataReshapeStep,\n    mapTwoMeasures,\n    vizSeedCleanupStep\n  ];\n  return pipeline(buildScatterVizSeedSteps, {});\n};"],"names":["mapTwoMeasuresChannels","fieldSelection","dimensions","measures","mapTwoMeasures","vizSeed","context","autoMapping","filteredMapping","key","value","updatedEncodes","__spreadProps","__spreadValues","createScatterVizSeedPipeline","pipeline","vizSeedInitStep","chartAdapterStep","dataReshapeStep","vizSeedCleanupStep"],"mappings":"spBAYA,MAAMA,EAA0BC,GAAmD,CACjF,KAAM,CAAE,WAAAC,EAAY,SAAAC,CAAA,EAAaF,EAEjC,MAAO,CACL,EAAGE,EAAS,CAAC,EACb,EAAGA,EAAS,CAAC,EACb,MAAOD,EAAW,CAAC,CAAA,CAEvB,EAKaE,EAA+B,CAACC,EAAcC,IAAiB,CAC1E,KAAM,CAAE,eAAAL,GAAmBK,EAE3B,GAAI,CAACL,GAAmBA,EAAe,WAAW,SAAW,GAAKA,EAAe,SAAS,SAAW,EACnG,OAAOI,EAGT,QAAQ,IAAI,qBAAsBJ,CAAc,EAGhD,MAAMM,EAAcP,EAAuBC,CAAc,EAGnDO,EAAuB,CAAA,EAC7B,OAAO,QAAQD,CAAW,EAAE,QAAQ,CAAC,CAACE,EAAKC,CAAK,IAAM,CACzBA,GAAU,OAClCF,EAAwBC,CAAG,EAAIC,EAClC,CACD,EAED,QAAQ,IAAI,gBAAiBF,CAAe,EAG5C,MAAMG,EAAiB,CAACH,CAAe,EACvC,OAAAF,EAAQ,QAAUK,EAEXC,EAAAC,EAAA,GACFR,GADE,CAEL,QAASM,CAAA,EAEb,EC3CaG,EAA+B,IAQnCC,EAP0C,CAC/CC,EACAC,EACAC,EACAd,EACAe,CAAA,EAEwC,EAAE"}