{"version":3,"file":"TimeSeriesMapping-DgzfgjTS.js","sources":["../../src/pipeline/vizSeed/channelMapping/TimeSeriesMapping.ts"],"sourcesContent":["/**\n * Êó∂Èó¥Â∫èÂàóÊò†Â∞ÑÁ≠ñÁï•\n * ÂäüËÉΩÔºöxÈÄöÈÅì‰ΩøÁî®Á¨¨‰∏Ä‰∏™Áª¥Â∫¶ÔºàÊó∂Èó¥ËΩ¥ÔºâÔºåyÈÄöÈÅì‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÊåáÊ†áÔºåcolorÈÄöÈÅì‰ΩøÁî®Á¨¨‰∫å‰∏™Áª¥Â∫¶ÊàñÂ§öÊåáÊ†áÂêçÁß∞\n * ÈÄÇÁî®‰∫éÔºöÊäòÁ∫øÂõæ„ÄÅÈù¢ÁßØÂõæÁ≠âÈúÄË¶ÅÂ±ïÁ§∫Êó∂Èó¥Ë∂ãÂäøÁöÑÂõæË°®\n */\n\nimport { ChannelMapping } from '../../../types/charts';\nimport { FieldSelection, PipelineStep } from '../../PipelineCore';\n\n/**\n * Êó∂Èó¥Â∫èÂàóÊò†Â∞ÑÂáΩÊï∞\n */\nconst mapTimeSeriesChannels = (fieldSelection: FieldSelection): ChannelMapping => {\n  const { dimensions, measures } = fieldSelection;\n  \n  return {\n    x: dimensions[0],     // XËΩ¥‰ΩøÁî®Á¨¨‰∏Ä‰∏™Áª¥Â∫¶ÔºàÈÄöÂ∏∏ÊòØÊó∂Èó¥Â∫èÂàóÔºâ\n    y: measures[0],       // YËΩ¥‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÊåáÊ†á\n    color: dimensions[1] || (measures.length > 1 ? '__MeasureName__' : undefined)  // Â§öÁ≥ªÂàóÊîØÊåÅ\n  };\n};\n\n/**\n * Êó∂Èó¥Â∫èÂàóÈÄöÈÅìÊò†Â∞ÑPipelineÊ≠•È™§\n */\nexport const mapTimeSeries: PipelineStep = (vizSeed: any, context: any) => {\n  const { fieldSelection } = context;\n  \n  if (!fieldSelection || (fieldSelection.dimensions.length === 0 && fieldSelection.measures.length === 0)) {\n    return vizSeed;\n  }\n\n  console.log(`üé® Êó∂Èó¥Â∫èÂàóËá™Âä®ÈÄöÈÅìÊò†Â∞ÑÔºåÂ≠óÊÆµÈÄâÊã©:`, fieldSelection);\n  \n  // ‰ΩøÁî®Êó∂Èó¥Â∫èÂàóÊò†Â∞ÑÁ≠ñÁï•\n  const autoMapping = mapTimeSeriesChannels(fieldSelection);\n  \n  // ËøáÊª§ÊéâundefinedÁöÑÂÄº\n  const filteredMapping: any = {};\n  Object.entries(autoMapping).forEach(([key, value]) => {\n    if (value !== undefined && value !== null) {\n      (filteredMapping as any)[key] = value;\n    }\n  });\n  \n  console.log(`üîó Êó∂Èó¥Â∫èÂàóÈÄöÈÅìÊò†Â∞ÑÁªìÊûú:`, filteredMapping);\n  \n  // Êõ¥Êñ∞contextÂíåvizSeed\n  const updatedEncodes = [filteredMapping];\n  context.encodes = updatedEncodes;\n  \n  return {\n    ...vizSeed,\n    encodes: updatedEncodes\n  };\n};"],"names":["mapTimeSeriesChannels","fieldSelection","dimensions","measures","mapTimeSeries","vizSeed","context","autoMapping","filteredMapping","key","value","updatedEncodes","__spreadProps","__spreadValues"],"mappings":"6aAYA,MAAMA,EAAyBC,GAAmD,CAChF,KAAM,CAAE,WAAAC,EAAY,SAAAC,CAAA,EAAaF,EAEjC,MAAO,CACL,EAAGC,EAAW,CAAC,EACf,EAAGC,EAAS,CAAC,EACb,MAAOD,EAAW,CAAC,IAAMC,EAAS,OAAS,EAAI,kBAAoB,OAAA,CAEvE,EAKaC,EAA8B,CAACC,EAAcC,IAAiB,CACzE,KAAM,CAAE,eAAAL,GAAmBK,EAE3B,GAAI,CAACL,GAAmBA,EAAe,WAAW,SAAW,GAAKA,EAAe,SAAS,SAAW,EACnG,OAAOI,EAGT,QAAQ,IAAI,sBAAuBJ,CAAc,EAGjD,MAAMM,EAAcP,EAAsBC,CAAc,EAGlDO,EAAuB,CAAA,EAC7B,OAAO,QAAQD,CAAW,EAAE,QAAQ,CAAC,CAACE,EAAKC,CAAK,IAAM,CACzBA,GAAU,OAClCF,EAAwBC,CAAG,EAAIC,EAClC,CACD,EAED,QAAQ,IAAI,iBAAkBF,CAAe,EAG7C,MAAMG,EAAiB,CAACH,CAAe,EACvC,OAAAF,EAAQ,QAAUK,EAEXC,EAAAC,EAAA,GACFR,GADE,CAEL,QAASM,CAAA,EAEb"}