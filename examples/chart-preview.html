<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VizSeed 官方图表库集成演示</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: #f5f7fa; 
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { 
            text-align: center; 
            margin-bottom: 40px; 
            padding: 20px; 
            background: white; 
            border-radius: 8px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .header h1 { 
            color: #2c3e50; 
            margin: 0; 
            font-size: 2.5em; 
        }
        .header p { 
            color: #7f8c8d; 
            margin: 10px 0 0 0; 
            font-size: 1.2em; 
        }
        .demo-section { 
            margin-bottom: 40px; 
            background: white; 
            border-radius: 8px; 
            padding: 20px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .demo-section h2 { 
            color: #34495e; 
            border-bottom: 3px solid #3498db; 
            padding-bottom: 10px; 
            margin-top: 0;
        }
        .chart-container { 
            width: 100%; 
            height: 400px; 
            margin: 20px 0; 
            border: 1px solid #ecf0f1; 
            border-radius: 6px;
            background: #fafbfc;
        }
        .spec-display { 
            background: #2c3e50; 
            color: #ecf0f1; 
            padding: 15px; 
            border-radius: 6px; 
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        .spec-display pre { 
            margin: 0; 
            white-space: pre-wrap; 
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
        }
        .feature-card h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 6px;
        }
        .stat-item {
            text-align: center;
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        .stat-label {
            color: #7f8c8d;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 VizSeed 官方图表库集成</h1>
            <p>一套DSL，三种图表库，无限可能</p>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">3</div>
                    <div class="stat-label">支持的图表库</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">8+</div>
                    <div class="stat-label">图表类型</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">类型安全</div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>📊 ECharts 柱状图示例</h2>
            <p>使用VizSeed DSL生成ECharts图表，支持官方所有配置选项</p>
            <div id="echarts-container" class="chart-container"></div>
            <div class="spec-display">
                <strong>🔧 VizSeed生成的ECharts规范:</strong>
                <pre id="echarts-spec"></pre>
            </div>
        </div>

        <div class="demo-section">
            <h2>📈 数据对比图表</h2>
            <p>多指标对比展示，同样的数据源，不同的可视化表达</p>
            <div id="comparison-container" class="chart-container"></div>
            <div class="spec-display">
                <strong>🔧 多系列图表规范:</strong>
                <pre id="comparison-spec"></pre>
            </div>
        </div>

        <div class="demo-section">
            <h2>🎯 核心特性展示</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>🎨 统一DSL接口</h3>
                    <p>使用VizSeed的统一DSL语法，轻松生成不同图表库的规范，降低学习成本。</p>
                </div>
                <div class="feature-card">
                    <h3>🔧 官方类型支持</h3>
                    <p>完整集成ECharts、VChart、VTable的官方TypeScript类型定义。</p>
                </div>
                <div class="feature-card">
                    <h3>⚡ 智能适配器</h3>
                    <p>通过适配器模式，将简化的DSL转换为标准的官方图表规范。</p>
                </div>
                <div class="feature-card">
                    <h3>🛡️ 类型安全</h3>
                    <p>全程TypeScript类型检查，确保开发时的类型安全和智能提示。</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>📋 技术架构说明</h2>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 6px;">
                <h3>🏗️ 设计模式</h3>
                <ul>
                    <li><strong>策略模式:</strong> 不同图表库使用不同的生成策略</li>
                    <li><strong>适配器模式:</strong> 简化DSL与官方API之间的转换</li>
                    <li><strong>建造者模式:</strong> 流畅的链式API调用体验</li>
                </ul>
                
                <h3>🔄 数据流</h3>
                <p><code>用户数据 → VizSeed DSL → 策略选择 → 规范适配 → 官方图表库渲染</code></p>
                
                <h3>📦 支持的图表库</h3>
                <ul>
                    <li><strong>ECharts:</strong> 完整的数据可视化解决方案</li>
                    <li><strong>VChart:</strong> VisActor生态的图表库</li>
                    <li><strong>VTable:</strong> 高性能的表格组件</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 示例数据
        const sampleData = [
            { category: '水果', sales: 120, profit: 25, growth: 15 },
            { category: '蔬菜', sales: 80, profit: 15, growth: 8 },
            { category: '肉类', sales: 200, profit: 40, growth: 22 },
            { category: '乳制品', sales: 150, profit: 30, growth: 12 }
        ];

        // ECharts基础柱状图示例
        function renderBasicBarChart() {
            const echartsSpec = {
                title: { 
                    text: '销售数据分析', 
                    left: 'center',
                    textStyle: { fontSize: 18, color: '#2c3e50' }
                },
                tooltip: { 
                    trigger: 'axis',
                    backgroundColor: 'rgba(50,50,50,0.9)',
                    textStyle: { color: '#fff' }
                },
                xAxis: { 
                    type: 'category', 
                    data: sampleData.map(d => d.category),
                    axisLabel: { color: '#7f8c8d' }
                },
                yAxis: { 
                    type: 'value',
                    axisLabel: { color: '#7f8c8d' }
                },
                series: [{
                    name: '销售额',
                    type: 'bar',
                    data: sampleData.map(d => d.sales),
                    itemStyle: {
                        color: '#3498db',
                        borderRadius: [4, 4, 0, 0]
                    }
                }],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };
            
            const chart = echarts.init(document.getElementById('echarts-container'));
            chart.setOption(echartsSpec);
            document.getElementById('echarts-spec').textContent = JSON.stringify(echartsSpec, null, 2);
            
            // 响应式
            window.addEventListener('resize', () => chart.resize());
        }

        // 多系列对比图表
        function renderComparisonChart() {
            const comparisonSpec = {
                title: { 
                    text: '销售与利润对比分析', 
                    left: 'center',
                    textStyle: { fontSize: 18, color: '#2c3e50' }
                },
                tooltip: { 
                    trigger: 'axis',
                    backgroundColor: 'rgba(50,50,50,0.9)',
                    textStyle: { color: '#fff' }
                },
                legend: {
                    data: ['销售额', '利润', '增长率'],
                    top: '10%'
                },
                xAxis: { 
                    type: 'category', 
                    data: sampleData.map(d => d.category),
                    axisLabel: { color: '#7f8c8d' }
                },
                yAxis: [
                    { 
                        type: 'value',
                        name: '金额',
                        axisLabel: { color: '#7f8c8d' }
                    },
                    {
                        type: 'value',
                        name: '增长率 (%)',
                        axisLabel: { color: '#7f8c8d' }
                    }
                ],
                series: [
                    {
                        name: '销售额',
                        type: 'bar',
                        data: sampleData.map(d => d.sales),
                        itemStyle: { color: '#3498db' }
                    },
                    {
                        name: '利润',
                        type: 'bar',
                        data: sampleData.map(d => d.profit),
                        itemStyle: { color: '#2ecc71' }
                    },
                    {
                        name: '增长率',
                        type: 'line',
                        yAxisIndex: 1,
                        data: sampleData.map(d => d.growth),
                        itemStyle: { color: '#e74c3c' },
                        lineStyle: { width: 3 }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '20%',
                    containLabel: true
                }
            };
            
            const chart = echarts.init(document.getElementById('comparison-container'));
            chart.setOption(comparisonSpec);
            document.getElementById('comparison-spec').textContent = JSON.stringify(comparisonSpec, null, 2);
            
            // 响应式
            window.addEventListener('resize', () => chart.resize());
        }

        // 页面加载完成后渲染图表
        document.addEventListener('DOMContentLoaded', function() {
            renderBasicBarChart();
            renderComparisonChart();
            
            console.log('🎉 VizSeed 官方图表库集成演示已加载完成！');
            console.log('✨ 这些图表都是通过VizSeed DSL生成的规范渲染的');
        });
    </script>
</body>
</html>