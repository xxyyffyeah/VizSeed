=== 🚀 VizSeed 超简API演示 ===

0. 💡 超简API演示:
=== 💡 超简API演示：直接用数组创建图表！ ===
🔥 对比不同的创建方式：
✅ 最简方式: new VizSeedBuilder(rows)
✅ DataSet方式: new VizSeedBuilder(new DataSet(rows))
✅ 静态方法: VizSeedBuilder.fromRows(rows)

📊 智能字段推断结果：
自动推断的字段信息:
所有字段: [
  "category",
  "product",
  "sales",
  "profit"
]
维度字段: [
  "category",
  "product"
]
指标字段: [
  "sales",
  "profit"
]

字段详细信息:
- category: string (dimension)
- product: string (dimension)
- sales: number (measure)
  默认聚合: sum
- profit: number (measure)
  默认聚合: sum

sales字段统计: {
  "count": 6,
  "nullCount": 0,
  "uniqueCount": 6,
  "min": 45,
  "max": 200,
  "mean": 110.83333333333333,
  "median": 90
}

1. 创建分组柱状图:
VizSeed DSL: {
  "data": {
    "rows": [
      {
        "category": "水果",
        "product": "苹果",
        "sales": 100,
        "profit": 20
      },
      {
        "category": "水果",
        "product": "香蕉",
        "sales": 80,
        "profit": 15
      },
      {
        "category": "蔬菜",
        "product": "胡萝卜",
        "sales": 60,
        "profit": 12
      },
      {
        "category": "蔬菜",
        "product": "白菜",
        "sales": 45,
        "profit": 8
      },
      {
        "category": "肉类",
        "product": "猪肉",
        "sales": 200,
        "profit": 40
      },
      {
        "category": "肉类",
        "product": "牛肉",
        "sales": 180,
        "profit": 35
      }
    ],
    "fields": [
      {
        "name": "category",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": false,
        "isDiscrete": true
      },
      {
        "name": "product",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": true,
        "isDiscrete": true
      },
      {
        "name": "sales",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      },
      {
        "name": "profit",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      }
    ]
  },
  "chartConfig": {
    "mapping": {
      "x": "category",
      "y": "sales",
      "color": "category"
    },
    "type": "bar"
  },
  "transformations": [],
  "visualStyle": {
    "title": "销售和利润对比",
    "legend": true,
    "label": true,
    "tooltip": true
  }
}
VChart Spec: {
  "type": "bar",
  "xField": "category",
  "yField": "sales",
  "seriesField": "category",
  "data": [
    {
      "category": "水果",
      "product": "苹果",
      "sales": 100,
      "profit": 20
    },
    {
      "category": "水果",
      "product": "香蕉",
      "sales": 80,
      "profit": 15
    },
    {
      "category": "蔬菜",
      "product": "胡萝卜",
      "sales": 60,
      "profit": 12
    },
    {
      "category": "蔬菜",
      "product": "白菜",
      "sales": 45,
      "profit": 8
    },
    {
      "category": "肉类",
      "product": "猪肉",
      "sales": 200,
      "profit": 40
    },
    {
      "category": "肉类",
      "product": "牛肉",
      "sales": 180,
      "profit": 35
    }
  ],
  "axes": [
    {
      "orient": "bottom",
      "type": "band"
    },
    {
      "orient": "left",
      "type": "linear"
    }
  ],
  "legends": {
    "visible": true,
    "orient": "right",
    "position": "middle"
  },
  "label": {
    "visible": true
  },
  "tooltip": {
    "visible": true
  }
}

2. 创建饼图:
饼图 VizSeed DSL: {
  "data": {
    "rows": [
      {
        "category": "水果",
        "product": "苹果",
        "sales": 100,
        "profit": 20
      },
      {
        "category": "水果",
        "product": "香蕉",
        "sales": 80,
        "profit": 15
      },
      {
        "category": "蔬菜",
        "product": "胡萝卜",
        "sales": 60,
        "profit": 12
      },
      {
        "category": "蔬菜",
        "product": "白菜",
        "sales": 45,
        "profit": 8
      },
      {
        "category": "肉类",
        "product": "猪肉",
        "sales": 200,
        "profit": 40
      },
      {
        "category": "肉类",
        "product": "牛肉",
        "sales": 180,
        "profit": 35
      }
    ],
    "fields": [
      {
        "name": "category",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": false,
        "isDiscrete": true
      },
      {
        "name": "product",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": true,
        "isDiscrete": true
      },
      {
        "name": "sales",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      },
      {
        "name": "profit",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      }
    ]
  },
  "chartConfig": {
    "mapping": {
      "category": "category",
      "value": "sales"
    },
    "type": "pie"
  },
  "transformations": [],
  "visualStyle": {
    "title": "各类别销售占比"
  }
}

3. 创建折线图:
折线图 VizSeed DSL: {
  "data": {
    "rows": [
      {
        "date": "2024-01",
        "revenue": 1000
      },
      {
        "date": "2024-02",
        "revenue": 1200
      },
      {
        "date": "2024-03",
        "revenue": 1100
      },
      {
        "date": "2024-04",
        "revenue": 1300
      },
      {
        "date": "2024-05",
        "revenue": 1500
      },
      {
        "date": "2024-06",
        "revenue": 1400
      }
    ],
    "fields": [
      {
        "name": "date",
        "type": "date",
        "role": "dimension",
        "nullable": false,
        "unique": true,
        "isDiscrete": true
      },
      {
        "name": "revenue",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      }
    ]
  },
  "chartConfig": {
    "mapping": {
      "x": "date",
      "y": "revenue"
    },
    "type": "line"
  },
  "transformations": [],
  "visualStyle": {
    "title": "月度收入趋势"
  }
}

4. 创建表格:
表格 VTable Spec: {
  "type": "list-table",
  "columns": [
    {
      "field": "category",
      "title": "category",
      "width": 120
    },
    {
      "field": "product",
      "title": "product",
      "width": 120
    },
    {
      "field": "sales",
      "title": "sales",
      "width": 120
    },
    {
      "field": "profit",
      "title": "profit",
      "width": 120
    },
    {
      "field": "__MeasureValue__",
      "title": "指标值",
      "width": 120
    },
    {
      "field": "__MeasureName__",
      "title": "指标名称",
      "width": 120
    }
  ],
  "records": [
    {
      "category": "水果",
      "product": "苹果",
      "sales": 100,
      "profit": 20
    },
    {
      "category": "水果",
      "product": "香蕉",
      "sales": 80,
      "profit": 15
    },
    {
      "category": "蔬菜",
      "product": "胡萝卜",
      "sales": 60,
      "profit": 12
    },
    {
      "category": "蔬菜",
      "product": "白菜",
      "sales": 45,
      "profit": 8
    },
    {
      "category": "肉类",
      "product": "猪肉",
      "sales": 200,
      "profit": 40
    },
    {
      "category": "肉类",
      "product": "牛肉",
      "sales": 180,
      "profit": 35
    }
  ],
  "data": [
    {
      "category": "水果",
      "product": "苹果",
      "sales": 100,
      "profit": 20
    },
    {
      "category": "水果",
      "product": "香蕉",
      "sales": 80,
      "profit": 15
    },
    {
      "category": "蔬菜",
      "product": "胡萝卜",
      "sales": 60,
      "profit": 12
    },
    {
      "category": "蔬菜",
      "product": "白菜",
      "sales": 45,
      "profit": 8
    },
    {
      "category": "肉类",
      "product": "猪肉",
      "sales": 200,
      "profit": 40
    },
    {
      "category": "肉类",
      "product": "牛肉",
      "sales": 180,
      "profit": 35
    }
  ]
}

5. 多图表库支持演示:
=== 多图表库支持演示 ===
VChart规范生成成功
VTable规范生成成功

6. 维度操作示例:
维度重塑后的 VizSeed DSL: {
  "data": {
    "rows": [
      {
        "category": "水果",
        "product": "苹果",
        "sales": 100,
        "profit": 20
      },
      {
        "category": "水果",
        "product": "香蕉",
        "sales": 80,
        "profit": 15
      },
      {
        "category": "蔬菜",
        "product": "胡萝卜",
        "sales": 60,
        "profit": 12
      },
      {
        "category": "蔬菜",
        "product": "白菜",
        "sales": 45,
        "profit": 8
      },
      {
        "category": "肉类",
        "product": "猪肉",
        "sales": 200,
        "profit": 40
      },
      {
        "category": "肉类",
        "product": "牛肉",
        "sales": 180,
        "profit": 35
      }
    ],
    "fields": [
      {
        "name": "category",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": false,
        "isDiscrete": true
      },
      {
        "name": "product",
        "type": "string",
        "role": "dimension",
        "nullable": false,
        "unique": true,
        "isDiscrete": true
      },
      {
        "name": "sales",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      },
      {
        "name": "profit",
        "type": "number",
        "role": "measure",
        "nullable": false,
        "unique": true,
        "aggregation": "sum",
        "isDiscrete": false
      }
    ]
  },
  "chartConfig": {
    "mapping": {
      "x": "variable",
      "y": "value"
    },
    "type": "bar"
  },
  "transformations": [
    {
      "type": "pivot",
      "params": {
        "operation": "elevate",
        "sourceField": "category",
        "targetField": "category_dim",
        "valueField": "category_value"
      }
    },
    {
      "type": "unpivot",
      "params": {
        "operation": "reduce",
        "sourceField": "profit",
        "targetField": "profit_measure",
        "keyField": "profit_key"
      }
    },
    {
      "type": "unpivot",
      "params": {
        "operation": "group_reduce",
        "sourceFields": [
          "sales",
          "profit"
        ],
        "targetField": "value",
        "keyField": "variable"
      }
    }
  ],
  "visualStyle": {
    "title": "维度重塑示例"
  }
}